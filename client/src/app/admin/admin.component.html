<div class="container" id="dashboard">
  <div class="row">
    <div class="col-sm-12 text-center m-bot-50">
      <h2> Dashboard </h2>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12">
      <h6 class="m-bot-10">Use this tabs to generate and edit the day configuration and availability & to moderate the customer's opinions.</h6>
      <ul class="m-bot-20">
        <li>
          <small>
            <strong>approved opinions go to the homepage's carousel!</strong>
          </small>
        </li>
        <li>
          <small>
            <strong>Already created days will no be overwritten, so do not panic if you overlap days...</strong>
          </small>
        </li>
      </ul>
      <mat-tab-group>
        <mat-tab label="Massive Day Creation">
          <div class="row">
            <div class="col-md-2">
              <div class="instructions">
                <span class="instruction-number">1.</span> Select in & out dates and click the button! </div>
            </div>
            <div class="col-md-10">
              <mat-form-field class="full-input">
                <input matInput [matDatepicker]="createPickerIn" placeholder="FROM date">
                <mat-datepicker-toggle matSuffix [for]="createPickerIn"></mat-datepicker-toggle>
                <mat-datepicker #createPickerIn></mat-datepicker>
              </mat-form-field>
              <mat-form-field class="full-input">
                <input matInput [matDatepicker]="createPickerOut" placeholder="TO date">
                <mat-datepicker-toggle matSuffix [for]="createPickerOut"></mat-datepicker-toggle>
                <mat-datepicker #createPickerOut></mat-datepicker>
              </mat-form-field>
              <button (click)="createDays(createPickerIn,createPickerOut)" mat-raised-button color="accent" class="d-block float-right">Create days!</button>
              <div *ngIf="message" class="message"> You have created {{message.length}} days successfully: </div>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="Massive days update">
          <div class="row">
            <div class="col-md-2">
              <div class="instructions">
                <span class="instruction-number">1.</span> Select in & out dates </div>
            </div>
            <div class="col-md-10">
              <mat-form-field class="full-input">
                <input matInput [matDatepicker]="updatePickerIn" placeholder="FROM date">
                <mat-datepicker-toggle matSuffix [for]="updatePickerIn"></mat-datepicker-toggle>
                <mat-datepicker #updatePickerIn></mat-datepicker>
              </mat-form-field>
              <mat-form-field class="full-input">
                <input matInput [matDatepicker]="updatePickerOut" placeholder="TO date">
                <mat-datepicker-toggle matSuffix [for]="updatePickerOut"></mat-datepicker-toggle>
                <mat-datepicker #updatePickerOut></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-md-2">
              <div class="instructions">
                <span class="instruction-number">2.</span> Select status for the restaurant during this period </div>
            </div>
            <div class="col-md-10">
              <div class="status">Restaurant status:
                <mat-form-field class="status-select">
                  <mat-select [class]="dayConfig.status" [(ngModel)]="dayConfig.status">
                    <mat-option value="open"> Open </mat-option>
                    <mat-option value="closed"> Closed </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-2">
              <div class="instructions">
                <span class="instruction-number">3.</span> Configure the shift avaialbility (remember, zero means no shift; default is 20) </div>
            </div>
            <div class="col-md-10">
              <div class="shifts">
                <div class="row">
                  <div class="col-6 col-sm-3 col-lg-2 text-center" *ngFor="let shift of dayConfig.shift; let i=index;">
                    <div class="shift-hour"> {{shift.hour}} </div>
                    <div class="shift-availability">
                      <mat-form-field>
                        <input class="text-center" matInput [value]="shift.current" [(ngModel)]="shift.current"> </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>
              <button (click)="updateDays(updatePickerIn,updatePickerOut)" mat-raised-button color="accent" class="d-block m-top-40 float-right">Update days!</button>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="Comments Management">
          <div class="row comment-row" *ngFor="let comment of comments">
            <div class="col-sm-3">
              <div class="details">
                <mat-form-field class="status-select">
                  <mat-select [class]="comment.status" [value]="comment.status" [(ngModel)]="comment.status" (change)="changeCommentStatus(comment._id,comment.status)">
                    <mat-option value="false"> Not approved </mat-option>
                    <mat-option value="true"> Approved </mat-option>
                    <mat-option value="delete"> Delete </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="col-sm-9">
              <div class="details">
                <small>Name: {{comment.user_Id.name}} | Email: {{comment.user_Id.email}} | Phone: {{comment.user_Id.phone}}</small>
                <p class="comment">{{comment.content}}</p>
              </div>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>

  <div class="row m-top-20" *ngIf="menu.length > 0">
    <div class="col-sm-12">
      <h4 class="m-top-40">
        <strong>Menu of the day</strong>
      </h4>
      <mat-tab-group>
        <mat-tab label="Monday">
          <mat-form-field class="menu[0].active">
            <mat-select [class]="menu[0].active" [value]="menu[0].active" [(ngModel)]="menu[0].active">
              <mat-option value="false"> Have Menu </mat-option>
              <mat-option value="true"> Don't Have </mat-option>
            </mat-select>
          </mat-form-field>
          <div class="starters-menu">
            <div *ngFor="let starter of menu[0].starters">
              <input value="{{starter}}">
            </div>
          </div>
          <div class="main-course-menu">
            <div *ngFor="let mainCourse of menu[0].mainCourses">
              <input value="{{mainCourse}}">
            </div>
          </div>
          <div class="desserts-menu">
            <div *ngFor="let dessert of menu[0].desserts">
              <input value="{{dessert}}">
            </div>
          </div>
          <p>
            <strong>{{menu[0].price}}€</strong>
          </p>
          <div>
            <label>Comentario</label>
            <textarea value="menu[0].comment"></textarea>
          </div>
        </mat-tab>
        <mat-tab label="Tuesday">
            <mat-form-field class="menu[1].active">
                <mat-select [class]="menu[1].active" [value]="menu[1].active" [(ngModel)]="menu[1].active">
                  <mat-option value="false"> Have Menu </mat-option>
                  <mat-option value="true"> Don't Have </mat-option>
                </mat-select>
              </mat-form-field>
              <div class="starters-menu">
                <div *ngFor="let starter of menu[1].starters">
                  <input value="{{starter}}">
                </div>
              </div>
              <div class="main-course-menu">
                <div *ngFor="let mainCourse of menu[1].mainCourses">
                  <input value="{{mainCourse}}">
                </div>
              </div>
              <div class="desserts-menu">
                <div *ngFor="let dessert of menu[1].desserts">
                  <input value="{{dessert}}">
                </div>
              </div>
              <p>
                <strong>{{menu[1].price}}€</strong>
              </p>
              <div>
                <label>Comentario</label>
                <textarea value="menu[1].comment"></textarea>
              </div>
        </mat-tab>
        <mat-tab label="Wednesday">
            <mat-form-field class="menu[2].active">
                <mat-select [class]="menu[2].active" [value]="menu[2].active" [(ngModel)]="menu[2].active">
                  <mat-option value="false"> Have Menu </mat-option>
                  <mat-option value="true"> Don't Have </mat-option>
                </mat-select>
              </mat-form-field>
              <div class="starters-menu">
                <div *ngFor="let starter of menu[2].starters">
                  <input value="{{starter}}">
                </div>
              </div>
              <div class="main-course-menu">
                <div *ngFor="let mainCourse of menu[2].mainCourses">
                  <input value="{{mainCourse}}">
                </div>
              </div>
              <div class="desserts-menu">
                <div *ngFor="let dessert of menu[2].desserts">
                  <input value="{{dessert}}">
                </div>
              </div>
              <p>
                <strong>{{menu[2].price}}€</strong>
              </p>
              <div>
                <label>Comentario</label>
                <textarea value="menu[2].comment"></textarea>
              </div>
        </mat-tab>
        <mat-tab label="Thursday">
            <mat-form-field class="menu[3].active">
                <mat-select [class]="menu[3].active" [value]="menu[3].active" [(ngModel)]="menu[3].active">
                  <mat-option value="false"> Have Menu </mat-option>
                  <mat-option value="true"> Don't Have </mat-option>
                </mat-select>
              </mat-form-field>
              <div class="starters-menu">
                <div *ngFor="let starter of menu[3].starters">
                  <input value="{{starter}}">
                </div>
              </div>
              <div class="main-course-menu">
                <div *ngFor="let mainCourse of menu[3].mainCourses">
                  <input value="{{mainCourse}}">
                </div>
              </div>
              <div class="desserts-menu">
                <div *ngFor="let dessert of menu[3].desserts">
                  <input value="{{dessert}}">
                </div>
              </div>
              <p>
                <strong>{{menu[3].price}}€</strong>
              </p>
              <div>
                <label>Comentario</label>
                <textarea value="menu[3].comment"></textarea>
              </div>
        </mat-tab>
        <mat-tab label="Friday">
            <mat-form-field class="menu[4].active">
                <mat-select [class]="menu[4].active" [value]="menu[4].active" [(ngModel)]="menu[4].active">
                  <mat-option value="false"> Have Menu </mat-option>
                  <mat-option value="true"> Don't Have </mat-option>
                </mat-select>
              </mat-form-field>
              <div class="starters-menu">
                <div *ngFor="let starter of menu[4].starters">
                  <input value="{{starter}}">
                </div>
              </div>
              <div class="main-course-menu">
                <div *ngFor="let mainCourse of menu[4].mainCourses">
                  <input value="{{mainCourse}}">
                </div>
              </div>
              <div class="desserts-menu">
                <div *ngFor="let dessert of menu[4].desserts">
                  <input value="{{dessert}}">
                </div>
              </div>
              <p>
                <strong>{{menu[4].price}}€</strong>
              </p>
              <div>
                <label>Comentario</label>
                <textarea value="menu[4].comment"></textarea>
              </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>